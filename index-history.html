<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<div id="app">
    <div class="menu">
        <a link="/home">home</a>
        <a link="/book">book</a>
        <a link="/music">music</a>
    </div>
    <div class="view"></div>
</div>
<script>
    var pushStateEvent = new Event('pushState');
    var view = document.querySelector('.view');
    function stateView() {
        switch (window.location.pathname) {
            case '/home':
                view.innerHTML = 'home page';
                break;
            case '/book':
                view.innerHTML = 'book page';
                break;
            case '/music':
                view.innerHTML = 'music page';
                break;
            default:
                view.innerHTML = '404 page';
        }
    }
    window.addEventListener('pushState', function(){
        stateView()
    }, false)
    document.querySelectorAll('a').forEach(function(link){
        link.addEventListener('click', function(e){
            e.preventDefault();
            window.history.pushState(null, null, this.getAttribute('link'))
            window.dispatchEvent(pushStateEvent);
        })
    })


</script>
</body>
</html>